# 📚 아이보틀 프로젝트 히스토리

이 문서는 아이보틀 프로젝트의 모든 주요 이벤트를 시간순으로 기록합니다.

---

## 📅 2025년 1월 2일

### 📧 Resend 이메일 서비스 완전 구축
- **Resend 계정 및 API 키 발급**: 
  - Resend.com 계정 생성 완료
  - API 키 (`re_xxxxxxxxx`) 발급 및 안전 저장
  - Vercel Environment Variables 설정 완료
- **배포 환경 통합**: 
  - Vercel Dashboard에서 `RESEND_API_KEY` 환경변수 추가
  - `All Environments` 적용으로 개발/프로덕션 통합
  - 자동 재배포로 즉시 적용
- **기능 상태**: 이메일 발송 시스템 정상 작동 ✅

### 🏥 검진결과 인쇄 로고 개선
- **문제 해결**: 회색 플레이스홀더를 실제 병원 로고로 교체
- **적용 범위**:
  - **HTML 리포트 3개**: `comprehensive_exam_report.html`, `diabeticretinopathy_exam_report.html`, `htn_retinopathy_report.html`
  - **PDF 컴포넌트 3개**: `DiabeticReportPDF`, `HypertensionReportPDF`, `ComprehensiveReportPDF`
- **이미지 변경**: `bg-gray-200 rounded-full` → `lee_eye_symbol.png`
- **레이아웃 최적화**: 로고 크기 30x30px(PDF), 배치 정렬, 비율 유지
- **브랜딩 통일**: 모든 검진결과 인쇄물에 병원 브랜딩 일관성 확보

### 🔧 눈종합검진 인쇄 중복 버그 해결
- **문제**: 정밀 검사 세부 소견 페이지가 2장으로 중복 인쇄
- **원인**: `renderComprehensivePreview` 함수에서 컨텐츠 중복 렌더링
  - 첫 번째 블록: 1페이지 + 페이지 브레이크 + 2페이지
  - 두 번째 블록: 2페이지만 다시 중복 생성
- **해결**: 중복된 `comprehensive-page-2` div 블록 완전 제거
- **결과**: 눈종합검진이 정확히 2페이지만 인쇄됨

### 📚 개발 문서 업데이트
- `DEVELOPMENT_LOG.md`: 오늘 작업 내용 상세 기록
- `README.md`: 이메일 기능 완료 및 검진결과 개선사항 반영
- `PROJECT_HISTORY.md`: 주요 이벤트 시간순 기록
- 메모리 업데이트: 이메일 설정 및 로고 변경 과정 저장

### 🔄 눈종합검진 대규모 개선
- **위험도 시스템 전면 개편**:
  - 기존: Low Risk / Moderate Risk / High Risk (영문)
  - 변경: 정상 / 경미한 / 중등도 / 심각한 (한글)
- **자동연동 시스템 구현**:
  - 위험도 선택 → 주요소견, 종합소견, 추적관찰 기간 자동 입력
  - 사용자가 원하면 직접 수정도 가능
- **기본검사 UI/UX 개선**:
  - 선택지 제공으로 빠른 입력 가능
  - 모든 항목에 '직접입력' 옵션 추가
- **정밀검사 현대화**:
  - 안구건조증 → 안구초음파로 교체
  - 영문 약어 병기로 전문성 강화
- **레이아웃 최적화**:
  - 종합소견을 1페이지로 이동
  - 위험도별 권고사항 차별화

---

## 📅 2025년 6월 28일

### 📧 이메일 문의 기능 실제 구현
- **Resend 이메일 서비스 통합**:
  - Resend API를 활용한 실제 이메일 전송 기능
  - Next.js API Routes 활용 (`/api/send-email`)
  - 환경변수 기반 API 키 관리 시스템

- **구현된 기능**:
  - 랜딩 페이지 Contact 섹션 이메일 문의
  - About 페이지 이메일 문의
  - 폼 유효성 검사 (이름, 이메일, 제목, 메시지)
  - 이메일 형식 검증
  - 전송 중 로딩 상태 표시
  - 성공/실패 알림 메시지

- **기술적 구현**:
  - `resend` npm 패키지 설치
  - TypeScript 기반 API Route
  - HTML 이메일 템플릿
  - Reply-to 헤더 설정으로 직접 답장 가능

- **문서화 및 가이드**:
  - `.env.local.example` 파일 생성
  - `docs/RESEND_EMAIL_SETUP_GUIDE.md` 상세 가이드
  - Vercel 환경변수 설정 안내
  - 초보자도 이해하기 쉬운 단계별 설명

### 🐛 Vercel 배포 에러 수정
- TypeScript 및 ESLint 에러 전체 해결
- 사용하지 않는 imports 정리
- 빌드 최적화

---

## 📅 2025년 6월 26일

### 🚀 근시케어 시스템 전면 구현
- **환자 관리 페이지** (`/myocare/patients`):
  - 환자 목록 테이블 구현 (이름, 생년월일, 차트번호, 위험도)
  - 위험도별 색상 코딩 시스템
  - 실시간 검색 및 정렬 기능
  - 환자 편집/삭제 모달

- **환자 상세 차트** (`/myocare/patients/[id]/chart`):
  - SE(구면대응치) 및 안축장 진행 그래프
  - Recharts 라이브러리로 시각화
  - 양안/단안 선택 뷰
  - 검사 이력 테이블 및 인라인 편집

- **새 검사 입력** (`/myocare/patients/[id]/visits/new`):
  - SPH, CYL → SE 자동 계산
  - 치료방법 체크리스트
  - 안경처방 입력 옵션

### 🧩 공통 컴포넌트 개발
- **DemoVideoButton**: YouTube 스타일 데모 영상 버튼
- **QuickNavMenu**: 주요 기능 네비게이션 메뉴
- **EditPatientModal**: 환자 정보 편집 모달

### 📄 PDF 생성 기능 추가
- @react-pdf/renderer로 검진결과 PDF 생성
- 당뇨망막병증, 고혈압망막병증, 눈종합검진 템플릿
- 한글 폰트 지원 (NotoSans)

### ✨ UI/UX 대폭 개선
- 랜딩 페이지: 이메일 문의 팝업, 데모 영상 모달
- 검진결과 페이지: PDF 다운로드, 실시간 미리보기
- 모든 페이지에 QuickNavMenu 통합

### 🔧 기술 스택 업데이트
- 신규 패키지: @react-pdf/renderer, recharts, date-fns
- TypeScript 타입 정의 강화
- 로컬 스토리지 기반 데이터 관리

---

## 📅 2025년 12월 30일

### 🎯 About 페이지 개선 프로젝트 완료 (6단계)
- **작업 기간**: 12월 28일 ~ 30일
- **목표**: About 페이지 사용자 경험 개선 및 통일성 확보

#### ✅ 1단계: 검진결과 페이지 데모영상 버튼 추가
- YouTube 스타일 빨간색 데모영상 버튼 구현
- Play 아이콘 import 및 상단 네비게이션 우측 배치
- 링크: `https://youtu.be/viqOYiEOBNI?si=DCX41YBhlBs2GKgB`

#### ✅ 2단계: 랜딩 페이지 데모영상 개선  
- 기존 파란색 버튼을 YouTube 스타일 빨간색으로 변경
- 영상 리스트 모달 추가 (검진결과, 근시케어, AI챗봇 영상 포함)
- 썸네일 크기 조정 (480×270, 16:9 비율)로 상단 잘림 문제 해결

#### ✅ 3단계: 근시케어 차트 데모영상 업데이트
- 새 YouTube 링크 제공: `https://youtu.be/pgTEwTZTKlk?si=vHAW42IClD6Q2Nvx`
- 랜딩 페이지 영상 리스트에서 "준비 중" → 실제 영상으로 업데이트
- 근시케어 대시보드와 헤더에서 중복 버튼 문제 발견 및 해결

#### ✅ 4단계: 공통 컴포넌트 생성 및 표준화
- `src/components/common/demo-video-button.tsx` 생성
- 재사용 가능한 DemoVideoButton 컴포넌트로 표준화
- YouTube 스타일 빨간색 그라데이션, Play 아이콘, 호버 효과 포함

#### ✅ 5단계: 디자인 시스템 문서화
- `docs/DEMO_VIDEO_BUTTON_GUIDE.md` 생성
- 상세한 사용법, 가이드라인, 새 기능 추가 시 체크리스트 포함
- 색상 규칙, 위치 지정, 애니메이션 가이드 제공

#### ✅ 6단계: 중복 버튼 문제 해결
- MyoCareHeader의 기존 Button 컴포넌트를 DemoVideoButton으로 교체
- 대시보드 페이지에서 중복 버튼 제거
- Play 아이콘 import 정리 및 레이아웃 최적화

#### ✅ 최종 단계: 랜딩 페이지 Contact 섹션 메일 팝업 기능 추가
- About 페이지의 메일 팝업 로직을 랜딩 페이지에 적용
- "이메일·SNS 문의" → "이메일 문의"로 텍스트 변경
- 클릭 시 About 페이지와 동일한 메일 작성 팝업 표시
- 메일 폼 상태 관리 및 전송 기능 구현
- 메일 팝업 크기 최적화 (가독성 개선)

### 🚀 주요 기능 퀵 네비게이션 메뉴 구현
- **목적**: 모든 페이지에서 주요 기능으로 빠르게 이동 가능

#### 🛠️ 공통 컴포넌트 개발
- `src/components/common/quick-nav-menu.tsx` 생성
- 우측에서 슬라이드되는 햄버거 메뉴 스타일
- 10개 주요 기능 아이템 포함 (홈, 검진결과, 근시케어 등)
- 현재 페이지 하이라이트 기능
- 활성화된 기능 vs 준비중 기능 구분
- Beta 배지 표시 (근시케어 차트)

#### 🌐 전체 페이지 적용
- **랜딩 페이지**: 데스크톱 네비게이션 + 모바일 메뉴에 추가
- **검진결과 페이지**: 상단 네비게이션 우측에 추가
- **근시케어 차트**: 헤더 우측 버튼 영역에 추가
- **About 페이지**: 우측 상단 코너에 배경과 함께 추가

#### 🎨 사용자 경험 최적화
- **일관된 디자인**: 모든 페이지에서 동일한 스타일
- **반응형 지원**: 모바일과 데스크톱 모두 완벽 지원
- **직관적 네비게이션**: 한 번의 클릭으로 모든 기능 접근
- **시각적 피드백**: 현재 위치 표시 및 호버 효과

#### 🔧 기술적 해결책
- **검진결과 페이지 메뉴 문제 해결**:
  - React Portal 사용으로 DOM 최상위에 렌더링
  - z-index 충돌 해결 (`z-[9998]`, `z-[9999]`)
  - ESC 키 지원 및 스크롤 방지 기능
  - 이벤트 전파 완벽 차단
- **가독성 개선**: 
  - 메뉴 배경 불투명도 95%로 강화
  - 텍스트 색상 진하게 조정
  - 호버 효과 개선

### 📱 모바일 최적화 및 접근성
- **키보드 지원**: ESC 키로 메뉴 닫기
- **터치 최적화**: 모바일에서 자연스러운 터치 인터페이스
- **ARIA 라벨**: 스크린 리더 지원
- **상태 관리**: React hooks로 안정적인 상태 관리

### 🎯 성과 요약
- ✅ 모든 페이지에서 통일된 네비게이션 경험 제공
- ✅ 사용자 접근성 크게 향상 (원클릭 페이지 이동)
- ✅ 디자인 일관성 확보 및 전문성 강화
- ✅ 복잡한 DOM 구조에서도 안정적인 메뉴 작동
- ✅ 향후 새 기능 추가 시 확장 가능한 구조 확립

---

## 📅 2025년 6월 23일

### 🔧 베타테스터 신청 기능 완전 제거
- **제거된 기능**: 
  - 메인 페이지의 베타테스터 신청 Dialog 팝업 및 폼
  - 하단 메뉴의 베타테스터 신청 카드 (4개 → 3개로 축소)
  - Notion API 연동 코드 (`actions/notion.ts`, `lib/notion.ts`)
  - 관련 React hooks 및 컴포넌트 import
  
### 🎨 UI 균형성 개선
- **카드 높이 균일화**:
  - 모든 기능 카드에 `h-full flex flex-col` 클래스 추가
  - 그리드 컨테이너에 `items-stretch` 클래스 적용
  - 검진결과 작성 카드에 '실시간 미리보기' 항목 추가로 콘텐츠 균형 맞춤
- **하단 메뉴 개선**:
  - 3개 카드(업데이트 노트, About Me, Contact)로 재구성
  - 동일한 높이 균일화 클래스 적용

### 📁 프로젝트 정리
- `.gitignore` 업데이트:
  - VS Code 확장 관련 파일 추가 (`ccusage-vscode-extension/`)
  - 로컬 설정 파일 추가 (`.claude/settings.local.json`)
  - 임시 다운로드 파일 추가 (`packages.microsoft.gpg`, `vscode.tar.gz`)

### ✨ 기타 개선사항
- 불필요한 import 정리 (useRef, useEffect, useActionState 등)
- 코드 가독성 향상을 위한 구조 단순화

---

## 📅 2025년 6월 17일

### 🔧 오류 해결 및 환경 안정화
- **문제 진단**: `exam-results` 페이지 접근 시 `Internal Server Error` 및 빈 화면 표시 문제 발생
- **원인 파악**: `page.tsx` 파일에 `'use client'` 지시어가 누락되어, 서버 환경에서 브라우저 전용 객체(`window`)에 접근하려다 생긴 렌더링 오류
- **해결**: 파일 최상단에 `'use client'`를 추가하여 서버 및 클라이언트 렌더링 문제를 완벽히 해결
- **포트 확인**: 개발 서버가 `3001`번 포트에서 실행 중인 것을 확인하고, 모든 테스트 URL을 `3001`로 통일

### 🤖 자동화 테스트 환경 구축 (Playwright)
- **설치 및 초기화**: Playwright 관련 패키지를 설치하고, 브라우저 드라이버를 설정하여 테스트 준비 완료
- **테스트 케이스 작성**: '인쇄 시 내용 중복' 버그를 재현하고 검증하기 위한 `tests/printing-bug.spec.ts` 테스트 파일 생성
  - **검증 로직**: 인쇄 모드에서 미리보기 영역에 "환자 정보" 제목이 정확히 **한 번만** 나타나는지 확인
- **버그 재현 성공**: 작성한 테스트를 실행하여 버그가 실제로 존재함을 스크린샷과 함께 명확하게 확인

### 🎯 오늘의 성과 요약
- ✅ 서버 렌더링 오류를 해결하여 애플리케이션을 정상 작동 상태로 복구
- ✅ Playwright를 이용해 까다로운 UI 버그를 자동으로 잡아내는 테스트 환경 구축
- ✅ '인쇄 중복' 문제의 원인을 명확히 하고, 해결을 위한 구체적인 테스트 케이스 확보

---

## 📅 2025년 6월 16일 (오후)

### 🎯 검진결과 작성 기능 완전 구현
- **새로운 라우트**: `/exam-results` 경로 생성
- **3가지 검진 템플릿**: 당뇨망막병증, 고혈압망막병증, 눈종합검진
- **실시간 좌우 분할 UI**: 입력 폼(40%) + 미리보기(60%)
- **브라우저 네이티브 인쇄**: PDF 라이브러리 없이 안정성 확보

### 🤖 당뇨망막병증 지능형 시스템
- **단계별 자동 멘트**: 양안 중 높은 단계 기준으로 요약 및 향후계획 자동 생성
- **5단계 세분화**: 정상 → 경증 → 중등도 → 중증 → 증식
- **추적 간격 자동화**: 6개월 → 2~3개월 → 담당의사 권고
- **실시간 반영**: 안저검사 선택 시 즉시 멘트 변경

### ✨ UI/UX 최적화
- **세련된 상단 네비게이션**: 글래스모피즘 + 그라데이션 버튼
- **반응형 스케일링**: 각 검진별 최적 배율 (0.8 / 0.95)
- **스크롤 최적화**: 1페이지는 전체 표시, 2페이지는 스크롤 가능
- **의료 문서 표준화**: 색상 통일, 깔끔한 테이블 구조

### 🔧 기술적 성취
- **타입 안전성**: TypeScript로 모든 데이터 구조 정의
- **상태 관리**: React hooks로 실시간 데이터 동기화
- **A4 호환성**: 인쇄 시 정확한 레이아웃 보장
- **메인 페이지 연동**: 기능 카드에서 직접 접근 가능

### 🖨️ 인쇄 기능 문제 해결 시도
- **문제**: 미리보기와 실제 인쇄가 겹쳐서 내용이 두 번 나오는 현상
- **시도한 해결책**: 
  - 미리보기 컨테이너에 `print-hide` 클래스 추가
  - 별도의 인쇄 전용 컨테이너 생성
  - 3가지 검진 모두에 동일한 패턴 적용
- **결과**: 문제가 완전히 해결되지 않음

---

## 📅 2025년 6월 16일 (오전)

### ✅ About Me 페이지 모바일 최적화 완료
- **문제 해결**: 모바일에서 '최신 의료장비' 섹션 레이아웃 깨짐 현상 수정
  - 원인: 컨테이너 너비 미지정으로 인한 반응형 레이아웃 오류
  - 해결: `w-full lg:w-2/5` 클래스 추가로 모바일/데스크톱 대응
- **디자인 개선**: 파스텔 톤 배경색으로 일관성 있는 UI 구현
  - 복잡한 그라데이션 → 부드러운 단색
  - 모바일 반응형 높이 및 이미지 크기 최적화
- **아이콘 업그레이드**: Lucide React 라이브러리 도입으로 전문성 강화
- **텍스트 가독성 향상**: 모바일에서 자연스러운 줄바꿈 구현

### ❌ 검진결과 작성 기능 개발 시도 (실패)
- **목표**: DM(당뇨), HTN(고혈압), 눈종검 PDF 생성 기능 구현
- **실패 원인**: Claude Code와의 협업 과정에서 패키지 의존성 충돌 발생
  - `jsPDF`, `html2canvas` 설치 과정에서 Next.js 패키지 손상
  - Turbopack 크래시 및 SWC 모듈 누락 오류 연쇄 발생
- **복구 과정**: Git을 통한 완전 복구 및 패키지 매니저 변경

### 🔧 개발 환경 안정화
- **패키지 매니저 정책 변경**: pnpm → npm 전환
  - 이유: 복잡한 의존성에서 npm이 더 안정적임을 확인
  - 메모리 업데이트로 향후 재발 방지
- **Claude Code 사용 교훈**: 복잡한 패키지 설치 시 신중한 접근 필요

### 📚 문서 및 환경 정리
- **README.md**: pnpm → npm 명령어로 전면 수정
- **배치 파일**: `dev-pnpm.bat` → `dev-npm.bat` + 새로운 `dev.bat` 생성
- **.gitignore**: npm 관련 무시 파일 추가
- **메모리 업데이트**: 패키지 매니저 정책을 npm 전용으로 변경

### 🎯 오늘의 성과 요약
- ✅ About Me 페이지 모바일 완전 최적화
- ✅ 전문적인 의료 아이콘 및 파스텔 디자인 적용
- ✅ 패키지 의존성 문제 완전 해결 (npm 전환)
- ✅ 개발 환경 안정화 및 문서 정리 완료
- ❌ 검진결과 PDF 기능 (의존성 충돌로 연기)

---

## 📅 2025년 6월 15일

### ✨ 기능 추가: 'About Me' 페이지
- Claude Code(Opus 모드)를 활용하여 '이동은 안과 전문의' 소개 페이지를 신규 생성
- 경로: `src/app/about/page.tsx`
- 랜딩 페이지의 디자인과 통일성을 유지하며, 반응형으로 구현

### 🔧 라우팅 설정
- 랜딩 페이지의 'About Me' 정보 카드를 클릭하면, 새로 생성된 `/about` 페이지로 이동하도록 `<Link>` 컴포넌트로 연결

### 💻 개발 환경 설정
- Windows 환경에서 Claude Code를 사용하기 위해 WSL(Ubuntu) 및 Node.js 설정을 완료하고, 이 과정을 메모리에 기록하여 향후 재사용성 확보

---

## 📅 2025년 6월 9일 (오후)

### 🔧 인코딩 문제 완전 해결
- **문제**: src/app/page.tsx에서 "invalid utf-8 sequence" 오류 발생
- **원인**: GitHub에 저장된 한국어 텍스트 깨짐
- **해결**: UTF-8 인코딩으로 모든 한국어 텍스트 복원 완료
- **상태**: ✅ 완전 해결됨

### 🎨 메인 텍스트 업데이트
- "AI로 3초만에!" → "AI로 3배 빠르게!!" (더 현실적이고 임팩트 있는 표현)
- "반복 진료 업무" → "반복 진료 작업" (정확성 개선)
- 기능 설명 텍스트들 스크린샷 기준으로 정확히 수정
- 불릿 포인트 "✓" → "•" 통일

### 📱 반응형 네비게이션 구현
- **데스크톱 네비게이션**:
  - "주요 기능", "업데이트", "소개", "문의" 메뉴 추가
  - hover 효과 및 부드러운 트랜지션
- **모바일 네비게이션**:
  - 햄버거 메뉴 구현 (Heroicons 사용)
  - useState를 이용한 클라이언트 상태 관리
  - "use client" 디렉티브 추가로 SSR 호환성 확보
- **접근성**: aria-label 속성 추가

### 🖼️ 파비콘 설정 개선
- **설정**: layout.tsx에서 metadata.icons.icon을 "/eyebottle-logo.png"로 지정
- **파일 확인**: public/eyebottle-logo.png (19KB) 존재 확인
- **주의사항**: 브라우저 캐시로 인해 즉시 반영되지 않을 수 있음

### 🔗 내부 네비게이션 링크
- **앵커 추가**: #features, #footer-nav 섹션 ID 설정
- **부드러운 스크롤**: CSS scroll-behavior 활용 가능
- **사용자 경험**: 원클릭으로 해당 섹션 이동 가능

### 🛠️ 기술적 개선사항
- **상태 관리**: useState 훅으로 모바일 메뉴 토글
- **이벤트 핸들링**: onClick으로 메뉴 열기/닫기
- **컴포넌트 구조**: 조건부 렌더링으로 모바일 메뉴 표시
- **타입 안정성**: TypeScript 완전 지원
- **성능 최적화**: Next.js App Router 활용
- **접근성**: ARIA 라벨 및 시맨틱 HTML

### 📊 배포 결과
- **URL**: https://eyebottle.kr
- **빌드**: ✅ 성공적으로 자동 배포됨
- **기능**: 모든 새로운 기능 정상 작동
- **반응형**: 데스크톱/태블릿/모바일 완벽 지원

---

## 📅 2025년 6월 9일 - 초기 배포 및 도메인 설정 완료

### 🚀 GitHub → Vercel 자동 배포 파이프라인
- **저장소**: `github.com/Eyebottle/eyebottle-ai-ophthalmology`
- **배포 플랫폼**: Vercel
- **자동 배포**: `main` 브랜치 푸시 → 자동 빌드 & 배포
- **빌드 환경**: Next.js 15, Node.js 최신 버전

### 🌐 커스텀 도메인 설정
- **도메인**: `eyebottle.kr` (구매 완료)
- **서브도메인**: `www.eyebottle.kr`
- **DNS 설정**: 
  - A 레코드: `@` → `216.198.79.193`
  - CNAME 레코드: `www` → `16ad5f5689f8d82b.vercel-dns-017.com`
- **SSL 인증서**: Let's Encrypt 자동 발급 완료
- **상태**: ✅ Configured Correctly (Vercel 확인 완료)

### 📧 연락처 정보 업데이트
- **이메일**: `contact@eyebottle.com` → `lee@eyebottle.kr`
- **웹사이트**: `eyebottle.com` → `eyebottle.kr`
- **홈페이지 로그인 폼**: 플레이스홀더 업데이트 완료

### 🔧 기술적 문제 해결
- **Next.js App Router 오류**: `src/app/test/` → `src/app/_test/` (언더스코어 처리)
- **브랜치 동기화**: `master` ↔ `main` 브랜치 통합
- **인코딩 문제**: PowerShell UTF-8 이슈 → MCP GitHub 도구로 해결
- **로컬/원격 동기화**: `git reset --hard origin/main`

### 🌟 최종 결과
- **URL**: https://eyebottle.kr
- **상태**: ✅ 정상 운영 중
- **성능**: 모바일/데스크톱 반응형 완벽 지원
- **보안**: HTTPS 암호화 완료
- **8개 AI 도구**: 모든 기능 카드 정상 작동
- **3열 레이아웃**: 메인 콘텐츠 | 공지사항 | 로그인 폼
- **글래스모피즘 디자인**: 최신 UI/UX 트렌드 적용
- **기술 스택**: Next.js 15 + TypeScript + Tailwind CSS + Shadcn/ui

### 🔄 자동화 워크플로우
```
개발자 코드 변경 → Git Push → GitHub → Vercel 자동 빌드 → eyebottle.kr 실시간 반영
```

---

## 📅 2025년 5월 22일

### 🎨 UI/UX 개선
- 메인 타이틀 텍스트가 모바일 및 PC 화면 모두에서 일관된 줄바꿈을 가지도록 수정
- "데모 영상 보기" 버튼에서 시각적 혼동을 줄 수 있는 화살표 아이콘 제거
- 모바일 화면에서 문장 끝의 단어 하나만 줄바꿈되는 현상을 방지하기 위해 `break-keep` 클래스 적용
- 특정 설명 문구가 항상 한 줄로 표시되도록 `whitespace-nowrap` 클래스 추가
- 헤더와 기능 소개 카드 사이의 시각적 균형을 위해 하단 여백 추가
- 실수로 삭제되었던 "아이보틀 주요 기능" H2 타이틀 복구

### 📚 문서화
- `README.md`의 개발 현황을 최신 상태로 업데이트

---

## 📅 2024년 6월 16일

### 📚 문서화
- `README.md` 파일에 6개월 단기 목표 및 개발 로드맵을 구체적으로 명시
- 핵심 기능 MVP 개발, 파일럿 테스트, 베타 테스트 확장, 개발 역량 확보 계획을 포함하여 프로젝트 방향성을 명확히 함

---

## 📅 2024년 1월 XX

### 🔧 Vercel 배포 최적화
- **라우팅 충돌 해결**: `src/app/test/` 폴더를 `src/app/_test/`로 변경
  - Next.js App Router에서 발생하던 빌드 오류 해결
  - 테스트 페이지가 프로덕션 라우팅에서 제외됨

### ✨ Benefits
- **배포 안정성 향상**: Vercel 자동 배포 시 빌드 오류 제거
- **개발 효율성**: 테스트 컴포넌트는 유지하면서 프로덕션에서는 제외
- **SEO 최적화**: 불필요한 테스트 페이지가 검색엔진에 노출되지 않음
- **보안 강화**: 내부 테스트 페이지가 외부 접근으로부터 보호됨

### 📁 File Changes
- `src/app/test/` → `src/app/_test/`
- Shadcn/ui 테스트 컴포넌트는 개발 환경에서 계속 접근 가능

### 🚀 Deployment
- GitHub 푸시 시 Vercel 자동 배포 활성화
- Next.js 15.3.3 + TypeScript + Tailwind CSS 스택 유지

---

## 📅 2025년 6월 25일

### 📚 문서 체계 정리 및 PRD 작성
- **프로젝트 문서 통합 정리**:
  - CHANGELOG.md + DEPLOYMENT_LOG.md → PROJECT_HISTORY.md로 통합
  - 시간순 이벤트 기록으로 일원화
  - 중복 내용 제거 및 체계화

### 📋 PRD (Product Requirements Document) 체계 구축
- **PRD 폴더 구조 생성**: `docs/prd/`
  - README.md: PRD 작성 가이드
  - exam-results-prd.md: 기존 검진결과 작성 기능 문서화
  - myocare-chart-prd.md: 근시케어 차트 초안
  - myocare-chart-prd-v2.md: 전면 개편된 상세 PRD

### 🚀 근시케어 차트 (MyoCare Chart) 기획
- **초기 PRD (v1.0)**: 단순 차트 표시 기능 중심
- **기획서 검토 후 전면 개편 (v2.0)**:
  - 단순 차트 → 종합 환자 관리 시스템으로 확대
  - 대시보드, 환자 관리, 검사 기록, 보고서, 설정 기능 포함
  - Supabase 기반 데이터베이스 설계
  - 의료진별 데이터 분리 (Row Level Security)
  - 4-5주 개발 일정 수립

### 🗄️ 데이터베이스 설계
- **전체 아이보틀 통합 DB 구조**:
  - users: 의료진 계정 (병원 정보 포함)
  - patients: 환자 마스터 데이터
  - myocare_visits: 근시케어 검사 기록
  - user_settings: 사용자별 설정
  - audit_logs: 변경 이력 추적
- **보안**: RLS 정책으로 의료진별 데이터 완전 분리

### 🔧 기술 스택 결정
- **Frontend**: Next.js 15 + React 19 + TypeScript 5
- **UI**: TailwindCSS 4 + Shadcn/ui
- **차트**: Recharts
- **Backend**: Supabase (PostgreSQL + Auth + Storage)
- **배포**: Vercel

---

**프로젝트 시작일**: 2024년 1월  
**최신 업데이트**: 2025년 6월 25일